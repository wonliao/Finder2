<style>
.list-item-container {
  border-radius: 4px;
  -webkit-border-radius: 4px;
}

.name {
  font-weight: 500;
  line-height: 16px;
  font-size: 15px;
  margin-bottom: 6px;
}

.location {
  font-size: 14px;
  line-height: 1;
  padding: 15px 0px 15px 15px;
}

.thumbnail {
  width: 80px;
  height: 80px;
  opacity: 0.4;
  margin-bottom: 6px;
}

.desc {
  line-height: 1.2;
  font-size: 13px;
}

.conditional {
width:100%; font-size:6vw; padding:0 0 0 6%; height:10%;
}
.conditional_span {
padding-top:6%; display:inline-block;
}
.conditional_button {
float:right; padding-top:3%; display:inline-block;
}
.conditional_icon{
color: red;
}
</style>

<ons-page >

    <ons-toolbar style="background:#6dccf3; height:15%;">
        <div class="left" style="height:100%; width:100%;">
            <div style="margin:12% 0% 0% 10%; height:50%;" ons-if-platform="ios">
                <ons-toolbar-button onclick="menu.setMainPage('home.html', {closeMenu: true})" style="">
                    <img src="images/img_logo@460x160.png" style="height:110%;"/>
                </ons-toolbar-button>
            </div>
            <div style="margin:20% 0% 0% 10%; height:50%;" ons-if-platform="android">
                <ons-toolbar-button onclick="menu.setMainPage('home.html', {closeMenu: true})" style="">
                    <img src="images/img_logo@460x160.png" style="height:100%;"/>
                </ons-toolbar-button>
            </div>
            <div style="margin:20% 0% 0% 10%; height:50%;" ons-if-platform="chrome">
                <ons-toolbar-button onclick="menu.setMainPage('home.html', {closeMenu: true})" style="">
                    <img src="images/img_logo@460x160.png" style="height:100%;"/>
                </ons-toolbar-button>
            </div>
        </div>
        <div class="right" style="height:100%;width:100%;top: 0px;position: absolute;right: 0;">
            <div style="padding:10% 5% 0% 5%; height:50%;"  ons-if-platform="ios">
                <ons-toolbar-button onclick="menu.toggleMenu()">
                    <ons-icon icon="ion-navicon" style="font-size: 32px; width: 1em;"></ons-icon>
                </ons-toolbar-button>
            </div>
            <div style="padding:20% 5% 0% 5%; height:50%;"  ons-if-platform="android">
                <ons-toolbar-button onclick="menu.toggleMenu()">
                    <ons-icon icon="ion-navicon" style="font-size: 32px; width: 1em;"></ons-icon>
                </ons-toolbar-button>
            </div>
            <div style="padding:20% 5% 0% 5%; height:50%;"  ons-if-platform="chrome">
                <ons-toolbar-button onclick="menu.toggleMenu()">
                    <ons-icon icon="ion-navicon" style="font-size: 32px; width: 1em;"></ons-icon>
                </ons-toolbar-button>
            </div>
        </div>
    </ons-toolbar>

        <div style="height:10%;"></div>
        
        <ons-row>
            <ons-col class="info-col">
                <div class="left" style="margin:auto;">
                    <ons-button class="button--quiet" onclick="menu.setMainPage('page2-1.html', {closeMenu: true})">
                        <i class="ion-ios-arrow-back ons-back-button__icon" style="vertical-align: top; background-color: transparent; height: 44px; line-height: 44px; font-size: 36px; margin-left: 8px; margin-right: 2px; width: 16px; display: inline-block; padding-top: 1px;"></i>
                        <span style="vertical-align: top; display: inline-block; line-height: 44px; height: 44px;" class="back-button__label"><span class="ng-scope">Back</span></span>
                    </ons-button>
                </div>
            </ons-col>
            <ons-col class="info-col">
                <div class="right" style="font-size:4vw; float:right; padding:12% 10% 0 0;">
                    <span class="page2_3_item_1">搜尋結果，共</span> <span id="product_sum">0</span> <span class="page2_3_item_2">樣產品</span>
                </div>
            </ons-col>
        </ons-row>

        <ons-row id="conditional_div">
            <div id="time_result" onclick="openTimeSlot()" class="text-input text-input--underbar conditional">
                <span class="conditional_span">2:00</span>
                <ons-button modifier="quiet" class="conditional_button">
                    <ons-icon icon="ion-minus-circled" size="25px" fixed-width="true" class="conditional_icon"></ons-icon>
                </ons-button>
            </div>
        </ons-row>
        

        <ons-button modifier="quiet" onclick="addConditional()">
            <ons-icon icon="ion-plus-circled" size="40px" fixed-width="true"></ons-icon>
        </ons-button>

    </ons-page>

<script>

ons.ready(function() {
    setTimeout(function() {

        $(".page2_3_item_1").text(translator.getStr("page2_3_item_1"));
        $(".page2_3_item_2").text(translator.getStr("page2_3_item_2"));
    
    }, 10);
});



function openTimeSlot() {

	var hours = {};
	var minutes = {};
	for( var i = 1; i <= 12; i += 1 ) {
		hours[i] = i;
	}

	if(SpinningWheel.isExist())	SpinningWheel.destroy();
	SpinningWheel.addSlot(hours, '', 2);
	SpinningWheel.setCancelAction(cancel);
	SpinningWheel.setDoneAction(timeDone);
    //SpinningWheel.setScrollDone(scrollDone);
	SpinningWheel.open();
}

function timeDone() {

    var results = SpinningWheel.getSelectedValues();
    $("#time_result").text(results.values.join(':'));
	
	localStorage.setItem("park_time", results.values.join(':'));
	//alert(localStorage.getItem("park_time"));
}

function cancel() {
    //document.getElementById('date_result').innerHTML = 'cancelled!';
}

function scrollDone() {
    
    console.log("Scroll Done");
    openTimeSlot();
}

function addConditional() {

    var str = "";
    str += '<div id="time_result" onclick="openTimeSlot()" class="text-input text-input--underbar conditional">';
    str += '    <span class="conditional_span">2:00</span>';
    str += '    <ons-button modifier="quiet" class="conditional_button">';
    str += '        <ons-icon icon="ion-minus-circled" size="25px" fixed-width="true" class="conditional_icon"></ons-icon>';
    str += '    </ons-button>';
    str += '</div>';
    
    $('#conditional_div').after(str);

}

</script>
